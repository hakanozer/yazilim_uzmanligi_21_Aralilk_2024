import './polyfills.server.mjs';
import{a as D}from"./chunk-ACGLAVIQ.mjs";import{g as T,k,n as M}from"./chunk-NZ74Z4VB.mjs";import{a as q}from"./chunk-5QQXOPCN.mjs";import{$a as u,Ab as y,Ha as h,Jb as v,Kb as I,La as x,S as d,_a as p,ab as S,bb as f,cb as g,db as _,ea as m,eb as o,fb as n,gb as C,mb as s,nc as E,qc as F,tb as a,ub as c,vb as b,xa as r}from"./chunk-GNGZ4DYW.mjs";import"./chunk-T55IDOPT.mjs";var R=t=>["/courses",t],$=(t,i)=>i.id;function A(t,i){t&1&&(o(0,"div",2),C(1,"div",4),o(2,"span"),a(3,"Aran\u0131yor..."),n()())}function L(t,i){t&1&&(o(0,"div",3),a(1,"Sonu\xE7 bulunamad\u0131."),n())}function G(t,i){if(t&1&&(o(0,"small",11),a(1),n()),t&2){let e=s(2).$implicit;r(),c(e.subtitle)}}function j(t,i){if(t&1&&(o(0,"a",10)(1,"strong"),a(2),n(),p(3,G,2,1,"small",11),n()),t&2){let e=s().$implicit;_("routerLink",y(3,R,e.relatedCourseId)),r(2),c(e.title),r(),u(e.subtitle?3:-1)}}function w(t,i){if(t&1&&(o(0,"small",11),a(1),n()),t&2){let e=s(2).$implicit;r(),c(e.subtitle)}}function P(t,i){if(t&1&&(o(0,"div",12)(1,"strong"),a(2),n(),p(3,w,2,1,"small",11),n()),t&2){let e=s().$implicit;r(2),c(e.title),r(),u(e.subtitle?3:-1)}}function B(t,i){if(t&1&&x(0,j,4,5,"a",8)(1,P,4,2,"div",9),t&2){let e=i.$implicit;_("ngIf",e.relatedCourseId),r(),_("ngIf",!e.relatedCourseId)}}function O(t,i){if(t&1&&(o(0,"div",5)(1,"h5",6),a(2),n(),o(3,"div",7),f(4,B,2,2,null,null,$),n()()),t&2){let e=i.$implicit,l=s(2);r(2),c(e),r(2),g(l.grouped()[e])}}function z(t,i){if(t&1&&f(0,O,6,1,"div",5,S),t&2){let e=s();g(e.kinds())}}var N=class t{route=d(T);searchService=d(D);api=d(q);query=m("");results=m([]);loading=m(!1);constructor(){I(()=>{let i=this.route.snapshot.queryParamMap.get("q")||"";i!==this.query()&&(this.query.set(i),this.run(i))})}run(i){let e=i.trim();if(!e){this.results.set([]);return}this.loading.set(!0),this.searchService.search(e).subscribe(l=>{this.results.set(l),this.loading.set(!1)})}grouped=v(()=>{let i={};for(let e of this.results())i[e.type]=i[e.type]||[],i[e.type].push(e);return i});kinds=v(()=>Object.keys(this.grouped()));static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-search"]],decls:6,vars:2,consts:[[1,"container","py-5","mt-5"],[1,"mb-3"],[1,"d-flex","align-items-center","gap-2","text-muted"],[1,"alert","alert-info"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"mb-4"],[1,"text-uppercase","small","fw-bold"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"routerLink",4,"ngIf"],["class","list-group-item",4,"ngIf"],[1,"list-group-item","list-group-item-action",3,"routerLink"],[1,"text-muted","ms-2"],[1,"list-group-item"]],template:function(e,l){e&1&&(o(0,"div",0)(1,"h3",1),a(2),n(),p(3,A,4,0,"div",2)(4,L,2,0,"div",3)(5,z,2,0),n()),e&2&&(r(2),b('Arama: "',l.query(),'"'),r(),u(l.loading()?3:l.results().length?5:4))},dependencies:[F,E,M,k],encapsulation:2})};export{N as Search};

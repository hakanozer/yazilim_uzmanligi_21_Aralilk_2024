import{Q as p,V as h,ec as o,fc as l,jc as u,n as a,z as i}from"./chunk-OPCDAKPE.js";var c=class s{http=h(l);baseUrl=u.apiBaseUrl;url(t){return t?t.startsWith("http")?t:`${this.baseUrl}/${t.replace(/^\//,"")}`:this.baseUrl}toParams(t){if(!t)return;let r=new o;return Object.entries(t).forEach(([e,n])=>{n==null||n===""||(r=r.set(e,String(n)))}),r}get(t,r){return this.http.get(this.url(t),{params:this.toParams(r)}).pipe(i(this.handle))}list(t,r){return this.get(t,r)}post(t,r){return this.http.post(this.url(t),r).pipe(i(this.handle))}put(t,r){return this.http.put(this.url(t),r).pipe(i(this.handle))}patch(t,r){return this.http.patch(this.url(t),r).pipe(i(this.handle))}delete(t){return this.http.delete(this.url(t)).pipe(i(this.handle))}collection(t){let r=t.replace(/\/$/,"");return{all:e=>this.list(r,e),get:e=>this.get(`${r}/${e}`),create:e=>this.post(r,e),update:(e,n)=>this.put(`${r}/${e}`,n),patch:(e,n)=>this.patch(`${r}/${e}`,n),remove:e=>this.delete(`${r}/${e}`)}}handle=t=>a(()=>t);static \u0275fac=function(r){return new(r||s)};static \u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"})};export{c as a};

import{a as K,b as d,c as V,d as q,f as G,h as L,i as U,j as B,n as j,p as Y}from"./chunk-GARBHYYC.js";import{a as I}from"./chunk-XJATNCQ6.js";import{a as T}from"./chunk-XCAEEZ7N.js";import{f as D}from"./chunk-KKEVWUN6.js";import{$ as y,Ga as M,Ka as h,V as g,Wb as z,Xb as R,_ as P,_b as A,ab as u,bb as t,c as C,cb as e,db as l,fb as S,gb as E,ha as w,hb as k,ib as f,jb as x,ob as F,pb as b,qb as n,sb as N,ua as O,wa as a}from"./chunk-OPCDAKPE.js";function H(m,o){if(m&1){let i=k();S(0),t(1,"img",25),f("click",function(){let s=P(i).$implicit,p=x();return y(p.selectPhoto(s))}),e(),E()}if(m&2){let i=o.$implicit,r=x();a(),F("border-color",i===r.selectedPhoto?"#007bff":"transparent"),b("selected",i===r.selectedPhoto),u("src",i,O)}}function Q(m,o){m&1&&(t(0,"div",26),n(1,"Rol se\xE7imi zorunludur."),e())}var $=class m{photo;navigateToLogin(){this.router.navigateByUrl("/login")}submitting=!1;auth=g(T);router=g(D);onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.submitting=!0;let{name:o,surname:i,email:r,password:s,role:p}=this.form.value,c=this.selectedPhoto||this.photoList[0]||"";this.auth.register({name:o,surname:i,email:r,password:s,profilePhoto:c,role:p}).subscribe({next:J=>{this.submitting=!1;let v=J,{password:W}=v,_=C(v,["password"]);localStorage.setItem("currentUser",JSON.stringify(_)),this.auth.currentUser.set(_),this.router.navigateByUrl("/")},error:()=>{this.submitting=!1,alert("Kay\u0131t ba\u015Far\u0131s\u0131z")}})}fb=g(j);formSignal=w(this.fb.group({name:["",d.required],surname:["",d.required],email:["",[d.required,d.email]],password:["",d.required],passwordAgain:["",d.required],role:["student",d.required]},{validators:o=>{let i=o.get("password")?.value,r=o.get("passwordAgain")?.value;return i===r?null:{passwordMismatch:!0}}}));get form(){return this.formSignal()}photoList=["assets/profile-photo/1.png","assets/profile-photo/2.png","assets/profile-photo/3.png","assets/profile-photo/4.png","assets/profile-photo/5.png","assets/profile-photo/6.png"];selectedPhoto="";selectPhoto(o){this.selectedPhoto=o}static \u0275fac=function(i){return new(i||m)};static \u0275cmp=M({type:m,selectors:[["app-register"]],decls:51,vars:9,consts:[[1,"register-wrapper"],[1,"register-card",3,"ngSubmit","formGroup"],[1,"field"],["for","name"],["id","name","type","text","formControlName","name"],["for","surname"],["id","surname","type","text","formControlName","surname"],["for","email"],["id","email","type","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","passwordAgain"],["id","passwordAgain","type","password","formControlName","passwordAgain"],[1,"profile-photo-list",2,"display","flex","gap","12px"],[4,"ngFor","ngForOf"],[1,"role-cards"],[1,"role-card"],["type","radio","formControlName","role","value","student"],[1,"role-title"],[1,"role-desc"],["type","radio","formControlName","role","value","instructor"],["class","text-danger small mt-1",4,"ngIf"],["type","submit",1,"submit",3,"disabled"],[1,"text-center","mt-2"],[1,"login-btn","text-center",3,"click"],["alt","Profil Foto\u011Fraf\u0131",2,"width","40px","height","40px","border-radius","50%","object-fit","cover","cursor","pointer","border","2px solid transparent",3,"click","src"],[1,"text-danger","small","mt-1"]],template:function(i,r){if(i&1&&(l(0,"app-background-item"),t(1,"div",0)(2,"form",1),f("ngSubmit",function(){return r.onSubmit()}),t(3,"h2"),n(4,"Kay\u0131t Ol"),e(),t(5,"div",2)(6,"label",3),n(7,"Ad"),e(),l(8,"input",4),e(),t(9,"div",2)(10,"label",5),n(11,"Soyad"),e(),l(12,"input",6),e(),t(13,"div",2)(14,"label",7),n(15,"E-Posta"),e(),l(16,"input",8),e(),t(17,"div",2)(18,"label",9),n(19,"Parola"),e(),l(20,"input",10),e(),t(21,"div",2)(22,"label",11),n(23,"Tekrar Parola"),e(),l(24,"input",12),e(),t(25,"div")(26,"div",13),h(27,H,2,5,"ng-container",14),e()(),t(28,"div",2)(29,"label"),n(30,"Kullan\u0131c\u0131 Rol\xFC"),e(),t(31,"div",15)(32,"label",16),l(33,"input",17),t(34,"span",18),n(35,"\xD6\u011Frenci"),e(),t(36,"span",19),n(37,"Kurs sat\u0131n al ve \xF6\u011Frenmeye ba\u015Fla"),e()(),t(38,"label",16),l(39,"input",20),t(40,"span",18),n(41,"E\u011Fitici"),e(),t(42,"span",19),n(43,"Kendi kurslar\u0131n\u0131 olu\u015Ftur ve y\xF6net"),e()()(),h(44,Q,2,0,"div",21),e(),t(45,"button",22),n(46),e(),t(47,"p",23),n(48,"Daha \xF6nce kay\u0131t olmu\u015Fmuydunuz?"),e(),t(49,"a",24),f("click",function(){return r.navigateToLogin()}),n(50,"Giri\u015F Yap"),e()()()),i&2){let s,p,c;a(2),u("formGroup",r.form),a(25),u("ngForOf",r.photoList),a(5),b("active",((s=r.form.get("role"))==null?null:s.value)==="student"),a(6),b("active",((p=r.form.get("role"))==null?null:p.value)==="instructor"),a(6),u("ngIf",((c=r.form.get("role"))==null?null:c.invalid)&&((c=r.form.get("role"))==null?null:c.touched)),a(),u("disabled",r.submitting||r.form.invalid),a(),N(" ",r.submitting?"Kay\u0131t Olunuyor...":"Kay\u0131t Ol"," ")}},dependencies:[A,z,R,Y,G,K,L,V,q,U,B,I],styles:[".register-wrapper[_ngcontent-%COMP%]{position:relative;min-height:calc(100vh - 56px);display:flex;align-items:center;justify-content:center;padding:2rem 1rem;z-index:0}.register-card[_ngcontent-%COMP%]{width:100%;max-width:340px;background:#ffffffd9;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding:1.75rem 1.5rem 1.5rem;border-radius:16px;box-shadow:0 4px 20px -4px #00000040;display:flex;flex-direction:column;gap:1.1rem}.register-card.title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.35rem;font-weight:600;text-align:center;color:#1b1f29}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;letter-spacing:.5px;text-transform:uppercase;color:#374151}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #cbd5e1;border-radius:8px;padding:.55rem .75rem;font-size:.85rem;background:#fff;outline:none;transition:border-color .15s,box-shadow .15s}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#2563eb;box-shadow:0 0 0 3px #2563eb26}.field[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.error[_ngcontent-%COMP%]{font-size:.65rem;color:#b91c1c;line-height:1.1}.submit[_ngcontent-%COMP%]{appearance:none;border:none;border-radius:8px;background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;font-size:.8rem;font-weight:600;padding:.65rem .75rem;cursor:pointer;transition:background .2s,transform .15s;letter-spacing:.5px;text-transform:uppercase}.submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.submit[_ngcontent-%COMP%]:not(:disabled):hover{background:linear-gradient(135deg,#1d4ed8,#1e40af)}.submit[_ngcontent-%COMP%]:not(:disabled):active{transform:translateY(1px)}.role-cards[_ngcontent-%COMP%]{display:flex;gap:.75rem}.role-card[_ngcontent-%COMP%]{position:relative;flex:1;border:1px solid #cbd5e1;border-radius:12px;padding:.75rem .65rem .6rem;background:#fff;cursor:pointer;display:flex;flex-direction:column;gap:.3rem;transition:border-color .15s,box-shadow .15s,background .2s;font-size:.7rem}.role-card[_ngcontent-%COMP%]:hover{border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1f}.role-card.active[_ngcontent-%COMP%]{border-color:#1d4ed8;background:linear-gradient(135deg,#eff6ff,#dbeafe);box-shadow:0 0 0 3px #2563eb40}.role-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;inset:0;cursor:pointer}.role-card[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;letter-spacing:.5px}.role-card[_ngcontent-%COMP%]   .role-desc[_ngcontent-%COMP%]{font-size:.6rem;line-height:1.1;color:#475569}@media (max-width: 420px){.login-card[_ngcontent-%COMP%]{max-width:100%;padding:1.25rem 1rem 1rem}.login-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem}}"],changeDetection:0})};export{$ as Register};

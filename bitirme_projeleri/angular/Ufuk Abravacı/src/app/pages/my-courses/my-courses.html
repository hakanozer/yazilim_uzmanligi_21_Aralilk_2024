<app-navbar/>
<!-- my-courses.html -->
 @if (authService.isLoggedin()) {}
<div class="my-courses-container">
  <!-- Header -->
  <div class="page-header text-center mb-5">
    <h1 class="display-5 fw-bold text-dark">🎓 Kayıtlı Kurslarım</h1>
    <p class="lead text-muted">Devam ettiğiniz kurslarınızı buradan takip edebilirsiniz</p>
  </div>

  <!-- Loading State -->
  @if (loading()) {
    <div class="text-center py-5">
      <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;"></div>
      <p class="mt-3 text-muted">Kurslarınız yükleniyor...</p>
    </div>
  }

  <!-- Error State -->
  @else if (error()) {
    <div class="alert alert-danger text-center mx-auto" style="max-width: 500px;">
      <i class="bi bi-exclamation-triangle me-2"></i>
      {{ error() }}
      <button class="btn btn-sm btn-outline-danger ms-2" (click)="result.reload()">
        <i class="bi bi-arrow-clockwise me-1"></i>Tekrar Dene
      </button>
    </div>
  }

  <!-- Empty State -->
  @else if (enrollments().length === 0) {
    <div class="text-center py-5">
      <i class="bi bi-book display-1 text-muted"></i>
      <h3 class="text-muted mt-3">Henüz hiç kursa kaydolmadınız</h3>
      <p class="text-muted mb-4">Yeni beceriler öğrenmek için harika kurslarımızı keşfedin</p>
      <a routerLink="/courses" class="btn btn-primary btn-lg">
        <i class="bi bi-compass me-2"></i>Kursları Keşfet
      </a>
    </div>
  }

  <!-- Courses Grid -->
  @else {
    <div class="courses-grid">
      @for (enrollment of enrollments(); track enrollment.id) {
        @if (enrollment.course) {
          <div class="course-card">
            <!-- Course Image -->
            <div class="course-card-image">
              <img [src]="enrollment.course.imageUrl" [alt]="enrollment.course.title" />
              <div class="course-card-badge">
                <span class="badge bg-success">
                  <i class="bi bi-check-circle me-1"></i>Kayıtlı
                </span>
              </div>
            </div>

            <!-- Course Content -->
            <div class="course-card-body">
              <h3 class="course-card-title">{{ enrollment.course.title }}</h3>
              <p class="course-card-description">{{ enrollment.course.description }}</p>
              
              <div class="course-card-footer">
                <!-- Course Meta -->
                <div class="course-card-meta">
                  <span class="badge bg-primary">{{ enrollment.course.category }}</span>
                </div>

                <!-- Action Button -->
                <div class="course-card-actions">
                  <a 
                    [routerLink]="['/courses', enrollment.course.id]" 
                    class="btn btn-success w-100"
                  >
                    <i class="bi bi-play-circle me-2"></i>
                    Kursa Devam Et
                  </a>
                </div>
              </div>
            </div>
          </div>
        }
      }
    </div>

    <!-- Stats -->
    <div class="courses-stats mt-4 text-center">
      <div class="badge bg-light text-dark p-3">
        <i class="bi bi-graph-up me-2"></i>
        Toplam <strong>{{ enrollments().length }}</strong> kursa kayıtlısınız
      </div>
    </div>
  }
</div>
<div class="col-sm-3">
  <div class="sidebar">
    <!-- User Profile Section -->
    <div class="d-flex align-items-center mb-4 p-3" style="background: linear-gradient(135deg, var(--primary-light) 0%, var(--info-light) 100%); border-radius: var(--radius-lg);">
      <div class="me-3">
        <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 48px; height: 48px;">
          <i class="bi bi-person-fill text-white fs-5"></i>
        </div>
      </div>
      <div>
        <h6 class="mb-0 fw-bold text-primary"><%= user.surname + ' ' + user.lastname %></h6>
        <small class="text-muted"><%= user.role === 'admin' ? 'Administrator' : 'User' %></small>
      </div>
    </div>

    <!-- Navigation Menu -->
    <div class="list-group mb-4">
      <a href="/news" class="list-group-item list-group-item-action d-flex align-items-center">
        <i class="bi bi-plus-circle me-3 text-success"></i>
        <span class="fw-medium">Yeni Yazı</span>
      </a>
      <a href="/news/list" class="list-group-item list-group-item-action d-flex align-items-center">
        <i class="bi bi-journal-text me-3 text-primary"></i>
        <span class="fw-medium"><%= (user && user.role === 'admin') ? 'Detaylar' : 'Yazılar' %></span>
      </a>
      <a href="/logout" class="list-group-item list-group-item-action d-flex align-items-center">
        <i class="bi bi-box-arrow-right me-3 text-danger"></i>
        <span class="fw-medium">Çıkış</span>
      </a>
    </div>

    <!-- Recent Posts Section -->
    <div class="list-group">
      <div class="list-group-item list-group-item-secondary d-flex align-items-center">
        <i class="bi bi-clock-history me-2"></i>
        <span class="fw-bold">Son Yazılar</span>
      </div>
      <% if (news && news.length) { %>
        <% news.slice(0, 5).forEach(function(n){ %>
          <a href="/news/<%= n._id %>" class="list-group-item list-group-item-action">
            <div class="d-flex align-items-start">
              <div class="me-2 mt-1">
                <div class="color-swatch" style="background-color: <%= n.color %>"></div>
              </div>
              <div class="flex-grow-1">
                <div class="fw-medium text-truncate" style="max-width: 200px;"><%= n.title %></div>
                <small class="text-muted">
                  <i class="bi bi-calendar3 me-1"></i>
                  <%= new Date(n.date).toLocaleDateString('tr-TR') %>
                </small>
              </div>
            </div>
          </a>
        <% }) %>
      <% } else { %>
        <div class="list-group-item text-center py-4">
          <i class="bi bi-journal-x text-muted fs-1 mb-2"></i>
          <p class="text-muted mb-0">Henüz içerik yok</p>
        </div>
      <% } %>
    </div>
  </div>
</div>